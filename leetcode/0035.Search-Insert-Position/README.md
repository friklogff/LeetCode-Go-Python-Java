# [35. Search Insert Position](https://leetcode.com/problems/search-insert-position/)

## 题目

Given a sorted array and a target value, return the index if the target is found. If not, return the index where it
would be if it were inserted in order.

You may assume no duplicates in the array.

**Example 1:**

    Input: [1,3,5,6], 5
    Output: 2

**Example 2:**

    Input: [1,3,5,6], 2
    Output: 1

**Example 3:**

    Input: [1,3,5,6], 7
    Output: 4

**Example 4:**

    Input: [1,3,5,6], 0
    Output: 0

## 题目大意

给定一个排序数组和一个目标值，在数组中找到目标值，并返回其索引。如果目标值不存在于数组中，返回它将会被按顺序插入的位置。

你可以假设数组中无重复元素。

## 解题思路

以下是每个版本的解题思路：

Go 版本解题思路：

1. 定义两个指针 `low` 和 `high`，它们分别指向数组的起始位置和末尾位置。

2. 使用循环执行二分查找：
   - 计算中间元素的索引 `mid`，使用 `(low + (high - low) >> 1)` 计算。
   - 如果中间元素 `nums[mid]` 大于或等于目标值 `target`，将 `high` 指针移动到 `mid - 1`，表示在左半部分继续搜索。
   - 否则，如果中间元素小于目标值 `target`：
     - 检查中间元素的下一个元素是否大于等于目标值 `target` 或者是否已经到达数组末尾。
     - 如果是，说明目标值应该插入到当前位置的后面，返回 `mid + 1` 作为插入位置的索引。
     - 否则，将 `low` 指针移动到 `mid + 1`，表示在右半部分继续搜索。

3. 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回 0。

Python 版本解题思路：

1. 定义两个指针 `low` 和 `high`，它们分别指向数组的起始位置和末尾位置。

2. 使用 `while` 循环执行二分查找：
   - 计算中间元素的索引 `mid`，使用 `(low + (high - low) // 2)` 计算。
   - 如果中间元素 `nums[mid]` 大于或等于目标值 `target`，将 `high` 指针移动到 `mid - 1`，表示在左半部分继续搜索。
   - 否则，如果中间元素小于目标值 `target`：
     - 检查中间元素的下一个元素是否大于等于目标值 `target` 或者是否已经到达数组末尾。
     - 如果是，说明目标值应该插入到当前位置的后面，返回 `mid + 1` 作为插入位置的索引。
     - 否则，将 `low` 指针移动到 `mid + 1`，表示在右半部分继续搜索。

3. 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回 0。

Java 版本解题思路：

1. 定义两个指针 `low` 和 `high`，它们分别指向数组的起始位置和末尾位置。

2. 使用 `while` 循环执行二分查找：
   - 计算中间元素的索引 `mid`，使用 `(low + (high - low) / 2)` 计算。
   - 如果中间元素 `nums[mid]` 大于或等于目标值 `target`，将 `high` 指针移动到 `mid - 1`，表示在左半部分继续搜索。
   - 否则，如果中间元素小于目标值 `target`：
     - 检查中间元素的下一个元素是否大于等于目标值 `target` 或者是否已经到达数组末尾。
     - 如果是，说明目标值应该插入到当前位置的后面，返回 `mid + 1` 作为插入位置的索引。
     - 否则，将 `low` 指针移动到 `mid + 1`，表示在右半部分继续搜索。

3. 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回 0。

C++ 版本解题思路：

1. 定义两个指针 `low` 和 `high`，它们分别指向向量（动态数组）的起始位置和末尾位置。

2. 使用 `while` 循环执行二分查找：
   - 计算中间元素的索引 `mid`，使用 `(low + (high - low) / 2)` 计算。
   - 如果中间元素 `nums[mid]` 大于或等于目标值 `target`，将 `high` 指针移动到 `mid - 1`，表示在左半部分继续搜索。
   - 否则，如果中间元素小于目标值 `target`：
     - 检查中间元素的下一个元素是否大于等于目标值 `target` 或者是否已经到达向量末尾。
     - 如果是，说明目标值应该插入到当前位置的后面，返回 `mid + 1` 作为插入位置的索引。
     - 否则，将 `low` 指针移动到 `mid + 1`，表示在右半部分继续搜索。

3. 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到向量的开头，返回 0。

总的来说，每个版本的解题思路都是基于二分查找算法的变种，通过不断更新 `low` 和 `high` 指针来逼近目标值的插入位置。根据不同的编程语言，语法和数据结构的细节会有所不同，但基本思路保持一致。

## 代码

## Go

```Go
func searchInsert(nums []int, target int) int {
    // 定义两个指针，low 指向数组的起始位置，high 指向数组的末尾位置
    low, high := 0, len(nums)-1
    
    // 使用循环执行二分查找
    for low <= high {
        // 计算中间元素的索引
        mid := low + (high-low)>>1
        
        // 如果中间元素大于等于目标值
        if nums[mid] >= target {
            // 将 high 指针移动到中间元素的前一个位置
            high = mid - 1
        } else {
            // 如果中间元素小于目标值
            // 检查中间元素的下一个元素是否大于等于目标值，或者是否已经到达数组末尾
            if (mid == len(nums)-1) || (nums[mid+1] >= target) {
                // 如果是，说明目标值应该插入到当前位置的后面，返回当前位置的下一个索引
                return mid + 1
            }
            // 否则，将 low 指针移动到中间元素的下一个位置
            low = mid + 1
        }
    }
    
    // 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回0
    return 0
}

```

## Python

```Python
class Solution:
    def searchInsert(self, nums: List[int], target: int) -> int:
        # 定义两个指针，low指向数组的起始位置，high指向数组的末尾位置
        low, high = 0, len(nums) - 1

        # 使用循环执行二分查找
        while low <= high:
            # 计算中间元素的索引
            mid = low + (high - low) // 2

            # 如果中间元素大于等于目标值
            if nums[mid] >= target:
                # 将high指针移动到中间元素的前一个位置
                high = mid - 1
            else:
                # 如果中间元素小于目标值
                # 检查中间元素的下一个元素是否大于等于目标值，或者是否已经到达数组末尾
                if mid == len(nums) - 1 or nums[mid + 1] >= target:
                    # 如果是，说明目标值应该插入到当前位置的后面，返回当前位置的下一个索引
                    return mid + 1
                # 否则，将low指针移动到中间元素的下一个位置
                low = mid + 1

        # 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回0
        return 0

```

## Java

```Java
class Solution {
    public int searchInsert(int[] nums, int target) {
        // 定义两个指针，low指向数组的起始位置，high指向数组的末尾位置
        int low = 0, high = nums.length - 1;
        
        // 使用循环执行二分查找
        while (low <= high) {
            // 计算中间元素的索引
            int mid = low + (high - low) / 2;
            
            // 如果中间元素大于等于目标值
            if (nums[mid] >= target) {
                // 将high指针移动到中间元素的前一个位置
                high = mid - 1;
            } else {
                // 如果中间元素小于目标值
                // 检查中间元素的下一个元素是否大于等于目标值，或者是否已经到达数组末尾
                if (mid == nums.length - 1 || nums[mid + 1] >= target) {
                    // 如果是，说明目标值应该插入到当前位置的后面，返回当前位置的下一个索引
                    return mid + 1;
                }
                // 否则，将low指针移动到中间元素的下一个位置
                low = mid + 1;
            }
        }
        
        // 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回0
        return 0;
    }
}

```

## Cpp

```Cpp
class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        // 定义两个指针，low指向数组的起始位置，high指向数组的末尾位置
        int low = 0, high = nums.size() - 1;
        
        // 使用循环执行二分查找
        while (low <= high) {
            // 计算中间元素的索引
            int mid = low + (high - low) / 2;
            
            // 如果中间元素大于等于目标值
            if (nums[mid] >= target) {
                // 将high指针移动到中间元素的前一个位置
                high = mid - 1;
            } else {
                // 如果中间元素小于目标值
                // 检查中间元素的下一个元素是否大于等于目标值，或者是否已经到达数组末尾
                if (mid == nums.size() - 1 || nums[mid + 1] >= target) {
                    // 如果是，说明目标值应该插入到当前位置的后面，返回当前位置的下一个索引
                    return mid + 1;
                }
                // 否则，将low指针移动到中间元素的下一个位置
                low = mid + 1;
            }
        }
        
        // 如果循环结束仍然没有找到合适的位置，说明目标值应该插入到数组的开头，返回0
        return 0;
    }
};

```
当理解和编写每个版本的代码时，你需要掌握以下基础知识：

1. Go 版本：

- **切片 (Slices)**：Go 中的数组和切片是非常重要的数据结构。切片是动态数组，用于存储一系列相同类型的元素。
- **循环和条件语句**：你需要了解 Go 中的 `for` 循环和 `if` 条件语句的用法，以便编写代码中的循环和条件判断。
- **函数**：你需要了解如何定义和调用函数，以及函数的参数和返回值。
- **二分查找算法**：理解二分查找算法的工作原理对于理解此代码非常重要。

2. Python 版本：

- **列表 (Lists)**：Python 中的列表是有序的数据结构，可以存储多种数据类型。在此问题中，列表用于存储整数元素。
- **循环和条件语句**：你需要了解 Python 中的 `while` 循环和 `if` 条件语句的使用方法，以便编写代码中的循环和条件判断。
- **类和方法**：Python 中的 `class` 和方法定义方式。在这个版本中，代码被封装在一个类中。
- **二分查找算法**：理解二分查找算法的工作原理对于理解此代码非常重要。

3. Java 版本：

- **数组**：Java 中的数组是一种静态数据结构，你需要了解如何声明、初始化和访问数组元素。
- **循环和条件语句**：你需要了解 Java 中的 `while` 循环和 `if` 条件语句的使用方法，以便编写代码中的循环和条件判断。
- **类和方法**：Java 中的类和方法的定义方式。在这个版本中，代码被封装在一个类中。
- **二分查找算法**：理解二分查找算法的工作原理对于理解此代码非常重要。

4. C++ 版本：

- **向量 (Vectors)**：C++ 中的向量是一种动态数组，类似于 Python 中的列表或 Go 中的切片。
- **循环和条件语句**：你需要了解 C++ 中的 `while` 循环和 `if` 条件语句的使用方法，以便编写代码中的循环和条件判断。
- **类和方法**：C++ 中的类和方法的定义方式。在这个版本中，代码被封装在一个类中。
- **二分查找算法**：理解二分查找算法的工作原理对于理解此代码非常重要。

总的来说，无论选择哪种编程语言的版本，都需要熟悉数组、循环、条件语句和二分查找算法。此外，了解特定编程语言的语法和标准库函数也是非常重要的，以便能够正确地编写和理解代码。如果你不熟悉某种特定语言，建议先学习该语言的基础知识，然后再尝试理解和编写相应版本的代码。